(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{110:function(e,t,n){"use strict";var r=n(104),a=n.n(r),c=n(105),s=n(73),u=n(74),i=n(118),o=n.n(i),p=(n(119),n(120)),l=n.n(p),h=new(function(){function e(){Object(s.a)(this,e),this.displayNumber=20,o.a.apps.length||o.a.initializeApp({databaseURL:"https://hacker-news.firebaseio.com"}),this.api=o.a.database().ref("/v0"),this.cache=l()({max:500,maxAge:36e5})}return Object(u.a)(e,[{key:"getTopStoryItems",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t,n,r,s,u=this,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,this.getTopStoryItemIds();case 3:return n=e.sent,r=this.displayNumber*(t-1),s=r+this.displayNumber,e.next=8,Promise.all(n.slice(r,s).map(function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.findItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTopStoryItemIds",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cache.has("topstories")){e.next=2;break}return e.abrupt("return",this.cache.get("topstories"));case 2:return e.next=4,this.api.child("/topstories").once("value");case 4:return t=e.sent,n=t.val(),this.cache.set("topstories",n),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"findItem",value:function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cache.has("item/".concat(t))){e.next=2;break}return e.abrupt("return",this.cache.get("item/".concat(t)));case 2:return e.next=4,this.api.child("/item/".concat(t)).once("value");case 4:return n=e.sent,r=n.val(),this.cache.set("item/".concat(t),r),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Promise.all(t.map(function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.findItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 4:return n=e.sent,e.next=7,Promise.all(n.map(function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getComments(t.kids);case 2:return t.comments=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findUser",value:function(){var e=Object(c.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cache.has("/user/".concat(t))){e.next=2;break}return e.abrupt("return",this.cache.get("/user/".concat(t)));case 2:return e.next=4,this.api.child("/user/".concat(t)).once("value");case 4:return n=e.sent,r=n.val(),this.cache.set("/user/".concat(t),r),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}());t.a=h},112:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(73),a=n(74),c=n(76),s=n(75),u=n(77),i=n(34),o=n.n(i),p=n(78),l=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"navbar navbar-default"},o.a.createElement("nav",{className:"container"},o.a.createElement("div",{className:"d-flex justify-content-between hidden-lg-up"},o.a.createElement(p.Link,{to:p.URL.name("IndexPage"),className:"navbar-brand"},"Redux Example - Hacker News"))))}}]),t}(o.a.Component)},99:function(e,t,n){"use strict";n.r(t);var r=n(104),a=n.n(r),c=n(105),s=n(73),u=n(74),i=n(76),o=n(75),p=n(77),l=n(72),h=n.n(l),f=n(34),b=n.n(f),m=n(102),v=n(111),d=n(106),j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),t}(n.n(d).a.Record({id:"",karma:0,created:null})),O={NEW_INSTANCE:Symbol("user/newInstance")};var y=Object(m.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.NEW_INSTANCE:return new j(t.attributes);default:return e}}}),k=n(112),w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return b.a.createElement("div",{className:"container"},b.a.createElement("h3",null,"User: ",this.props.user.id),b.a.createElement("p",null,"created: ",this.props.user.created),b.a.createElement("p",null,"karma: ",this.props.user.karma))}}]),t}(b.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.user?b.a.createElement("div",null,b.a.createElement(k.a,null),b.a.createElement(w,{user:this.props.user})):null}}]),t}(b.a.Component),E=Object(v.b)(function(e){return{user:e.user}})(x),N=n(110),I=n(79),g={newInstance:function(e){return{type:O.NEW_INSTANCE,attributes:e}}};n.d(t,"default",function(){return C});var C=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.user)return b.a.createElement(I.a,null);return b.a.createElement(function(){var t=Object(m.c)(y),n={user:Object(m.a)(g,t.dispatch)};return n.user.newInstance(e.props.user),b.a.createElement(v.a,{store:t},b.a.createElement(E,{params:e.props.params,actions:n}))},null)}}],[{key:"initialPropsWillGet",value:function(){h.a.start()}},{key:"getInitialProps",value:function(){var e=Object(c.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.findUser(t.params.userId);case 2:return e.t0=e.sent,e.abrupt("return",{user:e.t0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initialPropsDidGet",value:function(){h.a.done()}}]),t}(b.a.Component)}}]);
//# sourceMappingURL=5.0fe4f454.chunk.js.map