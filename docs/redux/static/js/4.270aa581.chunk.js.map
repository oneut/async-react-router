{"version":3,"sources":["../node_modules/timeago.js/lib/constant.js","../node_modules/timeago.js/lib/helper.js","../node_modules/timeago.js/lib/locales.js","../node_modules/timeago.js/lib/timer.js","api/HackerNewsApi.js","components/common/Header.js","../node_modules/timeago.js/lib/index.js","models/Item.js","../node_modules/timeago.js/lib/TimeAgo.js","actionTypes/CommentsActionType.js","models/Comment.js","actionTypes/ItemActionType.js","reducers/item/index.js","reducers/item/comments.js","reducers/item/item.js","components/item/CommentComponent.js","components/item/ItemComponent.js","containers/ItemContainer.js","actions/CommentsAction.js","actions/ItemAction.js","pages/ItemPage.js"],"names":["Object","defineProperty","exports","value","IndexMapEn","split","IndexMapZH","ATTR_DATA_TID","SEC_ARRAY","ATTR_TIMEAGO","ATTR_DATETIME","setTidAttr","getDateAttr","getAttr","nextInterval","diffSec","formatDiff","toDate","toInt","undefined","_constant","__webpack_require__","_locales","f","parseInt","input","Date","isNaN","test","trim","replace","diff","locale","defaultLocale","Locales","i","agoin","total_sec","Math","abs","length","date","nowDate","rst","d","ceil","node","name","getAttribute","attr","val","setAttribute","register","en","number","index","unit","zh_CN","func","run","cancel","Timers","_helper","clear","tid","clearTimeout","delay","setTimeout","hackerNewsApi","HackerNewsApi","_Users_Takashi_GitHub_async_react_router_examples_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","displayNumber","Firebase","apps","initializeApp","databaseURL","api","database","ref","cache","LRU","max","maxAge","page","getTopStoryItemIds","ids","offset","limit","Promise","all","slice","map","_ref","_Users_Takashi_GitHub_async_react_router_examples_redux_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_Takashi_GitHub_async_react_router_examples_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","id","wrap","_context","prev","next","_this","findItem","abrupt","sent","stop","_x","apply","arguments","has","get","child","once","snapshot","set","concat","_ref2","_callee5","_context5","_this2","_x4","comments","_ref3","_callee6","comment","_context6","getComments","kids","_x5","Header","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","className","async_react_router__WEBPACK_IMPORTED_MODULE_6__","to","URL","React","Component","_TimeAgo","_timer","factory","TimeAgo","default","module","Item","url","itemId","timeago","format","time","Immutable","Record","by","descendants","score","title","type","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","instance","TypeError","_classCallCheck","innerHTML","doRender","min","nodes","len","commentsActionType","SYNC","Symbol","Comment","attributes","classCallCheck","newCommentList","List","withMutations","commentAttributes","push","possibleConstructorReturn","getPrototypeOf","call","parent","text","itemActionType","NEW_INSTANCE","rootReducer","combineReducers","state","action","newState","forEach","item","CommentComponent","commentComponents","filter","react_default","dist","userId","getTimeAgo","dangerouslySetInnerHTML","__html","ItemComponent","isLoading","commentApiStream","from","subscribe","actions","sync","setState","unsubscribe","loadingComponent","getLoadingComponent","getCommentComponents","href","getUrl","isEmpty","CommentComponent_CommentComponent","ItemContainer","ItemComponent_ItemComponent","connect","commentsAction","itemAction","newInstance","ItemPage","NotFoundPage","store","createStore","itemRootReducer","bindActionCreators","dispatch","es","containers_ItemContainer","NProgress","start","params","done"],"mappings":"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","file":"static/js/4.270aa581.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\nvar IndexMapEn = exports.IndexMapEn = 'second_minute_hour_day_week_month_year'.split('_');\nvar IndexMapZH = exports.IndexMapZH = '秒_分钟_小时_天_周_月_年'.split('_');\nvar ATTR_DATA_TID = exports.ATTR_DATA_TID = 'data-tid';\nvar SEC_ARRAY = exports.SEC_ARRAY = [60, 60, 24, 7, 365 / 7 / 12, 12];\nvar ATTR_TIMEAGO = exports.ATTR_TIMEAGO = 'data-timeago';\nvar ATTR_DATETIME = exports.ATTR_DATETIME = 'datetime';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setTidAttr = exports.getDateAttr = exports.getAttr = exports.nextInterval = exports.diffSec = exports.formatDiff = exports.toDate = exports.toInt = undefined;\n\nvar _constant = require('./constant');\n\nvar _locales = require('./locales');\n/**\n * change f into int, remove decimal. Just for code compression\n * @param f\n * @returns {number}\n */\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\n\nvar toInt = exports.toInt = function toInt(f) {\n  return parseInt(f);\n};\n/**\n * format Date / string / timestamp to Date instance.\n * @param input\n * @returns {*}\n */\n\n\nvar toDate = exports.toDate = function toDate(input) {\n  if (input instanceof Date) return input;\n  if (!isNaN(input) || /^\\d+$/.test(input)) return new Date(toInt(input));\n  input = (input || '').trim().replace(/\\.\\d+/, '') // remove milliseconds\n  .replace(/-/, '/').replace(/-/, '/').replace(/(\\d)T(\\d)/, '$1 $2').replace(/Z/, ' UTC') // 2017-2-5T3:57:52Z -> 2017-2-5 3:57:52UTC\n  .replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, ' $1$2'); // -04:00 -> -0400\n\n  return new Date(input);\n};\n/**\n * format the diff second to *** time ago, with setting locale\n * @param diff\n * @param locale\n * @param defaultLocale\n * @returns {string | void | *}\n */\n\n\nvar formatDiff = exports.formatDiff = function formatDiff(diff, locale, defaultLocale) {\n  // if locale is not exist, use defaultLocale.\n  // if defaultLocale is not exist, use build-in `en`.\n  // be sure of no error when locale is not exist.\n  locale = _locales.Locales[locale] ? locale : _locales.Locales[defaultLocale] ? defaultLocale : 'en';\n  var i = 0,\n      agoin = diff < 0 ? 1 : 0,\n      // timein or timeago\n  total_sec = diff = Math.abs(diff);\n\n  for (; diff >= _constant.SEC_ARRAY[i] && i < _constant.SEC_ARRAY.length; i++) {\n    diff /= _constant.SEC_ARRAY[i];\n  }\n\n  diff = toInt(diff);\n  i *= 2;\n  if (diff > (i === 0 ? 9 : 1)) i += 1;\n  return _locales.Locales[locale](diff, i, total_sec)[agoin].replace('%s', diff);\n};\n/**\n * calculate the diff second between date to be formatted an now date.\n * @param date\n * @param nowDate\n * @returns {number}\n */\n\n\nvar diffSec = exports.diffSec = function diffSec(date, nowDate) {\n  nowDate = nowDate ? toDate(nowDate) : new Date();\n  return (nowDate - toDate(date)) / 1000;\n};\n/**\n * nextInterval: calculate the next interval time.\n * - diff: the diff sec between now and date to be formatted.\n *\n * What's the meaning?\n * diff = 61 then return 59\n * diff = 3601 (an hour + 1 second), then return 3599\n * make the interval with high performance.\n **/\n\n\nvar nextInterval = exports.nextInterval = function nextInterval(diff) {\n  var rst = 1,\n      i = 0,\n      d = Math.abs(diff);\n\n  for (; diff >= _constant.SEC_ARRAY[i] && i < _constant.SEC_ARRAY.length; i++) {\n    diff /= _constant.SEC_ARRAY[i];\n    rst *= _constant.SEC_ARRAY[i];\n  }\n\n  d = d % rst;\n  d = d ? rst - d : rst;\n  return Math.ceil(d);\n};\n/**\n * get the node attribute, native DOM and jquery supported.\n * @param node\n * @param name\n * @returns {*}\n */\n\n\nvar getAttr = exports.getAttr = function getAttr(node, name) {\n  if (node.getAttribute) return node.getAttribute(name); // native dom\n\n  if (node.attr) return node.attr(name); // jquery dom\n};\n/**\n * get the datetime attribute, `data-timeagp` / `datetime` are supported.\n * @param node\n * @returns {*}\n */\n\n\nvar getDateAttr = exports.getDateAttr = function getDateAttr(node) {\n  return getAttr(node, _constant.ATTR_TIMEAGO) || getAttr(node, _constant.ATTR_DATETIME);\n};\n/**\n * set the node attribute, native DOM and jquery supported.\n * @param node\n * @param val\n * @returns {*}\n */\n\n\nvar setTidAttr = exports.setTidAttr = function setTidAttr(node, val) {\n  if (node.setAttribute) return node.setAttribute(_constant.ATTR_DATA_TID, val);\n  if (node.attr) return node.attr(_constant.ATTR_DATA_TID, val);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.register = exports.Locales = undefined;\n\nvar _constant = require('./constant');\n\nvar zh_CN = function zh_CN(number, index) {\n  if (index === 0) return ['刚刚', '片刻后'];\n\n  var unit = _constant.IndexMapZH[parseInt(index / 2)];\n\n  return [number + ' ' + unit + \"\\u524D\", number + ' ' + unit + \"\\u540E\"];\n};\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\n\nvar en = function en(number, index) {\n  if (index === 0) return ['just now', 'right now'];\n\n  var unit = _constant.IndexMapEn[parseInt(index / 2)];\n\n  if (number > 1) unit += 's';\n  return [number + ' ' + unit + ' ago', 'in ' + number + ' ' + unit];\n};\n/**\n * 所有的语言\n * @type {{en: function(*, *), zh_CN: function(*, *)}}\n */\n\n\nvar Locales = exports.Locales = {\n  en: en,\n  zh_CN: zh_CN\n};\n/**\n * 注册语言\n * @param locale\n * @param func\n */\n\nvar register = exports.register = function register(locale, func) {\n  Locales[locale] = func;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.run = exports.cancel = exports.Timers = undefined;\n\nvar _helper = require('./helper');\n\nvar _constant = require('./constant'); // 所有的定时器\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\n\nvar Timers = exports.Timers = [];\n\nvar clear = function clear(tid) {\n  if (tid) {\n    clearTimeout(tid);\n    delete Timers[tid];\n  }\n};\n/**\n * 取消定时器\n * @param node\n */\n\n\nvar cancel = exports.cancel = function cancel(node) {\n  if (node) clear((0, _helper.getAttr)(node, _constant.ATTR_DATA_TID)); // get the timer of DOM node(native / jq).\n  else for (var tid in Timers) {\n      clear(tid);\n    }\n};\n/**\n * 开启一个 timer\n * @param func\n * @param delay\n */\n\n\nvar run = exports.run = function run(func, delay) {\n  var tid = setTimeout(function () {\n    // 从 Timer 中删除\n    clear(tid); // 执行目标方法\n\n    func();\n  }, delay); // there is no need to save node in object. Just save the key\n\n  Timers[tid] = 0;\n  return tid;\n};","import Firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport LRU from \"lru-cache\";\n\nclass HackerNewsApi {\n  constructor() {\n    this.displayNumber = 20;\n\n    if (!Firebase.apps.length) {\n      Firebase.initializeApp({\n        databaseURL: \"https://hacker-news.firebaseio.com\"\n      });\n    }\n    this.api = Firebase.database().ref(\"/v0\");\n    this.cache = LRU({\n      max: 500,\n      maxAge: 1000 * 60 * 60\n    });\n  }\n\n  async getTopStoryItems(page = 1) {\n    const ids = await this.getTopStoryItemIds();\n    const offset = this.displayNumber * (page - 1);\n    const limit = offset + this.displayNumber;\n    return await Promise.all(\n      ids.slice(offset, limit).map(async (id) => await this.findItem(id))\n    );\n  }\n\n  async getTopStoryItemIds() {\n    if (this.cache.has(\"topstories\")) return this.cache.get(\"topstories\");\n    const snapshot = await this.api.child(\"/topstories\").once(\"value\");\n    const value = snapshot.val();\n    this.cache.set(\"topstories\", value);\n    return value;\n  }\n\n  async findItem(id) {\n    if (this.cache.has(`item/${id}`)) return this.cache.get(`item/${id}`);\n    const snapshot = await this.api.child(`/item/${id}`).once(\"value\");\n    const value = snapshot.val();\n    this.cache.set(`item/${id}`, value);\n    return value;\n  }\n\n  async getComments(ids) {\n    if (!ids) {\n      return [];\n    }\n\n    const comments = await Promise.all(\n      ids.map(async (id) => await this.findItem(id))\n    );\n    return await Promise.all(\n      comments.map(async (comment) => {\n        comment.comments = await this.getComments(comment.kids);\n        return comment;\n      })\n    );\n  }\n\n  async findUser(id) {\n    if (this.cache.has(`/user/${id}`)) return this.cache.get(`/user/${id}`);\n    const snapshot = await this.api.child(`/user/${id}`).once(\"value\");\n    const value = snapshot.val();\n    this.cache.set(`/user/${id}`, value);\n    return value;\n  }\n}\n\nconst hackerNewsApi = new HackerNewsApi();\n\nexport default hackerNewsApi;\n","import React from \"react\";\nimport { URL, Link } from \"async-react-router\";\n\nexport default class Header extends React.Component {\n  render() {\n    return (\n      <header className=\"navbar navbar-default\">\n        <nav className=\"container\">\n          <div className=\"d-flex justify-content-between hidden-lg-up\">\n            <Link to={URL.name(\"IndexPage\")} className=\"navbar-brand\">\n              Redux Example - Hacker News\n            </Link>\n          </div>\n        </nav>\n      </header>\n    );\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TimeAgo = require('./TimeAgo');\n\nvar _locales = require('./locales');\n\nvar _timer = require('./timer'); // 入口函数\n\n\nvar factory = function factory(nowDate, locale) {\n  return new _TimeAgo.TimeAgo(nowDate, locale);\n};\n/**\n * 注册语言\n */\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\n\nfactory.register = _locales.register;\n/**\n * 终止定时器\n */\n\nfactory.cancel = _timer.cancel;\nexports.default = factory;\nmodule.exports = exports['default'];","import Immutable from \"immutable\";\nimport { URL } from \"async-react-router\";\nimport timeago from \"timeago.js\";\n\nconst ItemRecord = Immutable.Record({\n  by: \"\",\n  descendants: 0,\n  id: null,\n  score: 0,\n  time: null,\n  title: \"\",\n  type: \"\",\n  url: \"\",\n  kids: null\n});\n\nexport default class Item extends ItemRecord {\n  getUrl() {\n    if (this.url) {\n      return this.url;\n    }\n\n    return URL.name(\"ItemPage\", { itemId: this.id });\n  }\n\n  getTimeAgo() {\n    return timeago().format(new Date(this.time * 1000));\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimeAgo = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n\n\nvar _helper = require('./helper');\n\nvar _timer = require('./timer');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar TimeAgo = exports.TimeAgo = function () {\n  function TimeAgo(nowDate, defaultLocale) {\n    _classCallCheck(this, TimeAgo);\n\n    this.nowDate = nowDate;\n    this.defaultLocale = defaultLocale || 'en';\n  }\n\n  _createClass(TimeAgo, [{\n    key: 'setLocale',\n    value: function setLocale(locale) {\n      this.defaultLocale = locale;\n    }\n    /**\n     * render 定期器渲染\n     * @param node\n     * @param date\n     * @param locale\n     */\n\n  }, {\n    key: 'doRender',\n    value: function doRender(node, date, locale) {\n      var _this = this;\n\n      var diff = (0, _helper.diffSec)(date, this.nowDate); // render\n\n      node.innerHTML = (0, _helper.formatDiff)(diff, locale, this.defaultLocale); // waiting %s seconds, do the next render\n\n      var tid = (0, _timer.run)(function () {\n        _this.doRender(node, date, locale);\n      }, Math.min((0, _helper.nextInterval)(diff) * 1000, 0x7FFFFFFF)); // set attribute date-tid\n\n      (0, _helper.setTidAttr)(node, tid);\n    }\n    /**\n     * render: render the DOM real-time.\n     * - nodes: which nodes will be rendered.\n     * - locale: the locale name used to format date.\n     *\n     * How to use it?\n     * var timeago = require('timeago.js')();\n     * // 1. javascript selector\n     * timeago.render(document.querySelectorAll('.need_to_be_rendered'));\n     * // 2. use jQuery selector\n     * timeago.render($('.need_to_be_rendered'), 'pl');\n     *\n     * Notice: please be sure the dom has attribute `datetime`.\n     */\n\n  }, {\n    key: 'render',\n    value: function render(nodes, locale) {\n      // by .length\n      if (nodes.length === undefined) nodes = [nodes];\n      var node = void 0;\n\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        node = nodes[i]; // clear node's timer\n\n        (0, _timer.cancel)(node);\n        this.doRender(node, (0, _helper.getDateAttr)(node), locale); // render item\n      }\n    }\n    /**\n     * format: format the date to *** time ago, with setting or default locale\n     * - date: the date / string / timestamp to be formatted\n     * - locale: the formatted string's locale name, e.g. en / zh_CN\n     *\n     * How to use it?\n     * var timeago = require('timeago.js')();\n     * timeago.format(new Date(), 'pl'); // Date instance\n     * timeago.format('2016-09-10', 'fr'); // formated date string\n     * timeago.format(1473473400269); // timestamp with ms\n     */\n\n  }, {\n    key: 'format',\n    value: function format(date, locale) {\n      return (0, _helper.formatDiff)((0, _helper.diffSec)(date, this.nowDate), locale, this.defaultLocale);\n    }\n  }]);\n\n  return TimeAgo;\n}();","export const commentsActionType = {\n  SYNC: Symbol(\"comments/sync\")\n};\n","import Immutable from \"immutable\";\nimport timeago from \"timeago.js\";\n\nconst CommentRecord = Immutable.Record({\n  by: \"\",\n  id: 0,\n  parent: 0,\n  text: \"\",\n  time: null,\n  type: \"\",\n  comments: []\n});\n\nexport default class Comment extends CommentRecord {\n  constructor(attributes) {\n    const newCommentList = Immutable.List();\n    attributes.comments = newCommentList.withMutations((newCommentList) => {\n      attributes.comments.map((commentAttributes) =>\n        newCommentList.push(new Comment(commentAttributes))\n      );\n    });\n    super(attributes);\n  }\n\n  getTimeAgo() {\n    return timeago().format(new Date(this.time * 1000));\n  }\n}\n","export const itemActionType = {\n  NEW_INSTANCE: Symbol(\"item/newInstance\")\n};\n","import { combineReducers } from \"redux\";\nimport comments from \"./comments\";\nimport item from \"./item\";\n\nconst rootReducer = combineReducers({\n  comments,\n  item\n});\n\nexport default rootReducer;\n","import Immutable from \"immutable\";\nimport { commentsActionType } from \"../../actionTypes/CommentsActionType\";\nimport Comment from \"../../models/Comment\";\n\nexport default function comments(state = Immutable.List(), action) {\n  switch (action.type) {\n    case commentsActionType.SYNC:\n      const newState = Immutable.List();\n      return newState.withMutations((newState) => {\n        action.comments.forEach((commentAttributes) =>\n          newState.push(new Comment(commentAttributes))\n        );\n      });\n    default:\n      return state;\n  }\n}\n","import Item from \"../../models/Item\";\nimport { itemActionType } from \"../../actionTypes/ItemActionType\";\n\nexport default function item(state = null, action) {\n  switch (action.type) {\n    case itemActionType.NEW_INSTANCE:\n      return new Item(action.attributes);\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport { URL, Link } from \"async-react-router\";\n\nexport default class CommentComponent extends React.Component {\n  render() {\n    const commentComponents = this.props.comment.comments\n      .filter((comment) => !!comment.by)\n      .map((comment) => (\n        <CommentComponent key={comment.id} comment={comment} />\n      ));\n    return (\n      <li>\n        <dl>\n          <dt>\n            <ul className=\"list-inline\">\n              <li className=\"by\">\n                <Link\n                  to={URL.name(\"UserPage\", { userId: this.props.comment.by })}\n                >\n                  {this.props.comment.by}\n                </Link>\n              </li>\n              <li className=\"time\">{this.props.comment.getTimeAgo()}</li>\n            </ul>\n          </dt>\n          <dd>\n            <p dangerouslySetInnerHTML={{ __html: this.props.comment.text }} />\n            <ul>{commentComponents}</ul>\n          </dd>\n        </dl>\n      </li>\n    );\n  }\n}\n","import React from \"react\";\nimport { from } from \"rxjs\";\nimport HackerNewsApi from \"../../api/HackerNewsApi\";\nimport CommentComponent from \"./CommentComponent\";\nimport { URL, Link } from \"async-react-router\";\n\nexport default class ItemComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true\n    };\n\n    this.commentApiStream = null;\n  }\n\n  componentDidMount() {\n    this.commentApiStream = from(\n      HackerNewsApi.getComments(this.props.item.kids)\n    ).subscribe((comments) => {\n      this.props.actions.comments.sync(comments);\n      this.setState({ isLoading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.commentApiStream.unsubscribe();\n  }\n\n  render() {\n    const loadingComponent = this.getLoadingComponent();\n    const commentComponents = this.getCommentComponents();\n    return (\n      <div className=\"container\">\n        <div className=\"news-item\">\n          <h3 className=\"title\">\n            <a href={this.props.item.getUrl()}>{this.props.item.title}</a>\n          </h3>\n          <div>\n            <ul className=\"list-inline\">\n              <li className=\"score\">{this.props.item.score} points</li>\n              <li className=\"by\">\n                by{\" \"}\n                <Link\n                  to={URL.name(\"UserPage\", { userId: this.props.item.by })}\n                  className=\"\"\n                >\n                  {this.props.item.by}\n                </Link>\n              </li>\n              <li className=\"time\">{this.props.item.getTimeAgo()}</li>\n            </ul>\n          </div>\n        </div>\n        <div>\n          <h4>Comment {loadingComponent}</h4>\n          <ul>{commentComponents}</ul>\n        </div>\n      </div>\n    );\n  }\n\n  getCommentComponents() {\n    if (this.state.isLoading) {\n      return <p>Loading...</p>;\n    }\n\n    if (this.props.comments.isEmpty()) {\n      return <p>No comments yet.</p>;\n    }\n\n    return this.props.comments\n      .filter((comment) => !!comment.by)\n      .map((comment) => (\n        <CommentComponent key={comment.id} comment={comment} />\n      ));\n  }\n\n  getLoadingComponent() {\n    if (this.state.isLoading) {\n      return (\n        <span>\n          <i className=\"fa fa-refresh fa-spin fa-fw\" />\n        </span>\n      );\n    }\n\n    return null;\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Header from \"../components/common/Header\";\nimport ItemComponent from \"../components/item/ItemComponent\";\n\nclass ItemContainer extends React.Component {\n  render() {\n    if (!this.props.item) {\n      return null;\n    }\n\n    return (\n      <div>\n        <Header />\n        <ItemComponent\n          item={this.props.item}\n          comments={this.props.comments}\n          actions={this.props.actions}\n        />\n      </div>\n    );\n  }\n}\n\nexport default connect((state) => ({\n  item: state.item,\n  comments: state.comments\n}))(ItemContainer);\n","import { commentsActionType } from \"../actionTypes/CommentsActionType\";\n\nexport const commentsAction = {\n  sync: (comments) => {\n    return {\n      type: commentsActionType.SYNC,\n      comments: comments\n    };\n  }\n};\n","import { itemActionType } from \"../actionTypes/ItemActionType\";\n\nexport const itemAction = {\n  newInstance: (attributes) => {\n    return {\n      type: itemActionType.NEW_INSTANCE,\n      attributes: attributes\n    };\n  }\n};\n","import NProgress from \"nprogress\";\nimport React from \"react\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport itemRootReducer from \"../reducers/item\";\nimport ItemContainer from \"../containers/ItemContainer\";\nimport HackerNewsApi from \"../api/HackerNewsApi\";\nimport NotFoundPage from \"./NotFoundPage\";\nimport { bindActionCreators } from \"redux\";\nimport { commentsAction } from \"../actions/CommentsAction\";\nimport { itemAction } from \"../actions/ItemAction\";\n\nexport default class ItemPage extends React.Component {\n  static initialPropsWillGet() {\n    NProgress.start();\n  }\n\n  static async getInitialProps(attributes) {\n    return {\n      item: await HackerNewsApi.findItem(attributes.params.itemId)\n    };\n  }\n\n  static initialPropsDidGet() {\n    NProgress.done();\n  }\n\n  render() {\n    if (!this.props.item) return <NotFoundPage />;\n\n    const ProviderWrapper = () => {\n      const store = createStore(itemRootReducer);\n\n      const actions = {\n        item: bindActionCreators(itemAction, store.dispatch),\n        comments: bindActionCreators(commentsAction, store.dispatch)\n      };\n      actions.item.newInstance(this.props.item);\n\n      return (\n        <Provider store={store}>\n          <ItemContainer actions={actions} />\n        </Provider>\n      );\n    };\n\n    return <ProviderWrapper />;\n  }\n}\n"],"sourceRoot":""}